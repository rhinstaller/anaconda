# Handle files that xgettext can't handle automatically

DISTFILES.common.extra2 = Rules-extract

# Extract the STARTUP_NOTIFICATION_NAME string from the consolehelper config
%liveinst.h: %liveinst
	@sed -n 's/^STARTUP_NOTIFICATION_NAME=\(.*\)/char *s = N_(\1)/p' < $< > $@

maintainer-clean: maintainer-clean-extract
maintainer-clean-extract:
	rm -f $(top_srcdir)/data/liveinst/console.apps/liveinst.h

mostlyclean: mostlyclean-extract
mostlyclean-extract:
	rm -rf .intltool-merge-cache
