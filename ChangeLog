2004-10-21  Bill Nottingham <notting@redhat.com>

	* scripts/mk-images: forward port pci.ids trimming from taroon-branch
	
	* utils/trimpciids: new file

2004-10-20  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/mk-images.ppc: Update to work with new mkzimage so we
	get a netboot.img again (#125129)

2004-10-20  Jeremy Katz  <katzj@redhat.com>	

	* anaconda.spec: Bump version.

2004-10-19  Karsten Hopp <karsten@redhat.com>

	* loader2/linuxrc.s390: make sure to lowercase SUBCHANNELS sourced 
          from the .parm/.conf file, too

2004-10-19  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/linuxrc.s390: Ensure OSA addresses are lowercase so the
	kernel will like them (#133190)

	* autopart.py (doAutoPartition): Don't hard code VG name for
	auto-partitioned volume groups as VolGroup00 (#134263)

	* partRequests.py (VolumeGroupRequestSpec.__init__): Add autoname
	hack for autopart + lvm.

	* packages.py (handleX11Packages): Make sure that we don't do a
	graphical startup if people run out of space and then go back to
	unselect stuff (#135895)

	* scripts/upd-instroot: Change filenames for Indic fonts

2004-10-18  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.  
	Rebuild against newer bogl to hopefully fix CJK text installs

	* scripts/upd-instroot: Add Bluecurve icon theme index, hopefully
	fixes the icon theme to be correct.

	* bootloader.py: Add a trailing newline to /etc/sysconfig/kernel

	* loader2/urlinstall.c: When using the local stage2.img shortcut,
	ensure that an hdlist exists in the tree they point at to catch
	typos sooner (#135603, #117155, #120101)

	* kickstart.py: Fix traceback using %post logging (Gijs
	Hollestelle, #136154)

2004-10-17  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* iw/partition_gui.py: Fix font size to fit a little bit 
	better (#135731)

	* partitions.py (Partitions.writeKS): Write out size=0 (#135714)

	* kickstart.py (KickstartBase.definePartition): Allow partition
	size to be zero to work better with LVM autopart (#135714)

2004-10-15  Jeremy Katz  <katzj@redhat.com>

	* iw/driveorderwidget.py: Remove empty row leading 
	to traceback (#135944)

	* urlinstall.py: Replace "%" in urls with "%%" to avoid format
	string problems (#135929)

	* rescue.py (runRescue): bind mount /dev (#135860)

	* lang-table: Set Dutch and Danish keyboards by default (#135839)

2004-10-14  Jeremy Katz  <katzj@redhat.com>

	* loader2/module-info: Add s2io 10GbE driver

	* anaconda.spec: Bump version.

2004-10-14  Karsten Hopp  <karsten@redhat.com>

	* loader/linuxrc.s390: Hardcode LCS interface to eth0 (workaround
	until fix with sysfs interface is available)

2004-10-14  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot: Add fonts for ta, gu, hi, bn and pa (#119283)

	* isys/lang.c (bterm_main): Enable bterm again for testing (#113910)

	* loader2/hdinstall.c: Fix segfault when using biospart for hard
	drive kickstart install.  Patch from Rez Kabir (#135609)

2004-10-13  Jeremy Katz  <katzj@redhat.com>

	* bootloader.py: Write out /etc/sysconfig/kernel with the default
	kernel type and to change the bootloader default on new kernel
	installation (#135161)

2004-10-13  Karsten Hopp <karsten@redhat.com>

	* scripts/mk-images: add /etc/pam.d/remote for telnet logins
	                     (mainframe)

2004-10-12  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* autopart.py (doAutoPartition): Be more certain we have
	one of "our" LVM partitions (#135440)

	* scripts/mk-images.x86_64:
	* scripts/mk-images.i386:
	Remove localboot option from syslinux.cfg for diskboot.img (#135263)

	* upgrade.py (upgradeFindPackages): Handle the great input method
	switch (#129218)

	* network.py (Network.__init__): Don't save the hwaddr 
	for qeth (#135023)

	* packages.py (doPostInstall): Add rhgb in post-install, not
	doInstall (from msw on anaconda-devel-list)

2004-10-12  Bill Nottingham  <notting@redhat.com>

	* loader2/module-info: add ahci, sx8

2004-10-11  Bill Nottingham  <notting@redhat.com>

	* scripts/genlocalelist.py: reverse norwegian blacklisting (#129453)

	* loader2/module-info: add sata_nv, sata_sx4, ixgb; sort sata list

2004-10-07  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* fsset.py (FileSystemSet.makeLVMNodes): Make sure the DM node
	doesn't exist before we create it (#124092)

	* textw/packages_text.py: Sort packages in the group 
	details screen (#123437)

	* scripts/upd-instroot (KEEPFILEGR): Add prelink config (#117867)

2004-10-06  Jeremy Katz  <katzj@redhat.com>

	* iw/lvm_dialog_gui.py (VolumeGroupEditor.updateLogVolStore):
	Don't show "0" as a mountpoint for an LV that's not being mounted
	anywhere (#134867)

	* partRequests.py (RequestSpec.sanityCheckRequest): Call
	sanityCheckMountPoint with new option

	* partIntfHelpers.py (sanityCheckMountPoint): Don't allow
	formatting unless they specify a mountpoint on pre-existing
	partitions (#134865)

	* iw/network_gui.py (NetworkWindow.getScreen): Make Bengali fit a
	little bit better (#134762)

2004-10-06  Karsten Hopp <karsten@redhat.com>

	* partedUtils.py: Fix traceback with unpartitioned FCP disks (mainframe)

2004-10-05  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version:

	* kickstart.py (KickstartBase.readKickstart): Have to reset things
	when we enter a new scriptlet to break multiple scriptlet with
	different interpreters (#134707)

	* isys/devnodes.c: Working scsi disk nodes again (#134709)

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* scripts/upd-instroot (PACKAGES): Add selinux-policy-targeted so
	that text-mode installs will have working SELinux (#134549)

	* kickstart.py (KickstartBase.readKickstart): Handle having a
	%include inside a scriptlet. (#120252)

	* iw/zfcp_gui.py: Fix zfcp help tag
	(ZFCPWindow.getScreen): Don't change fcp devs until going forward.

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/devnodes.c: Add support more than 128 SCSI disks
	(#134575).

	* dispatch.py (installSteps): Remove my new typo.

	* partRequests.py (LogicalVolumeRequestSpec.getDevice): Fix
	changing of VG name carrying through to boot loader setup (#132213)

	* partitions.py (Partitions.writeKS): Include PPC PReP boot
	partition (#133934)

	* kickstart.py (KickstartBase.definePartition) 
	Allow specifying the PPC PReP Boot partition as "part prepboot"
	
	* kickstart.py (KickstartBase.setPackageSelection): Fix a thinko
	in the arch-specific case.  Also, add arch-specific removal (#133396)

	* lang-table: Fix Polish (#134554)

	* dispatch.py (installSteps): 
	* installclass.py (BaseInstallClass.setSteps): 
	* upgradeclass.py (InstallClass.setSteps): 
	Add copylogs step.

	* packages.py (copyAnacondaLogs): Copy /tmp/anaconda.log and
	/tmp/syslog to /var/log/anaconda.log and /var/log/anaconda.syslog
	so that they exist post-install (#124370)

	* kickstart.py: Add logging of kickstart scripts with --log to
	%post/%pre, etc.  Note that the filename is relative to use of
	--chroot or not. (#124370)

2004-10-04  Mike McLean  <mikem@redhat.com>
	* scripts/pkgorder: Add some command line options: --file <f> to
	write to a file instead of stdout, --debug to increas the rpm
	verbosity, --product to set the product path.

2004-10-04  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: fix LCS PORTNAME

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* iutil.py (makeDriveDeviceNodes): Create more RAID devs (#134438)

2004-10-01  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* installclass.py (BaseInstallClass.setZFCP): Add method for use
	in kickstart setting of zfcp config.

	* kickstart.py (KickstartBase.doZFCP): 
	Add syntax for defining zfcp volumes in kickstart.  
	Use --devnum=, --scsiid=, --wwpn=, --scsilun=, --fcplun=.  
	All are required. (#130070, #133288)
	(KickstartBase.doAutoPart): Skip zfcpconfig (#133288)
	(KickstartBase.definePartition): Skip zfcpconfig (#133288)

	* isys/nfsmount.c (HAVE_NFSV3): Let's use NFSv3.  Will fix using
	the DVD iso via nfsiso (#122032)

	* loader2/module-info: Fix megaraid_mbox module name (#134369)

	* loader2/driverdisk.c: Another uninitialized variable (#133996)

	* scripts/upd-instroot (PACKAGESGR): Actually add the zh_CN fonts
	package (#133330)

2004-09-30  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* po/anaconda.pot, po/*.po:
	refresh-po

	* installclasses/workstation.py:
	* installclasses/rhel_ws.py:	
	Install compat-arch-support and compat-arch-devel-support 
	by default (#133514).
	s/OpenOffice/OpenOffice.org/
	Mozilla isn't the web browser now.
	
	* installclasses/personal_desktop.py:
	* installclasses/server.py:
	* installclasses/rhel_as.py:	
	* installclasses/rhel_es.py:	
	* installclasses/rhel_desktop.py:
	Install compat-arch-support by default (#133514)
	s/OpenOffice/OpenOffice.org/
	Mozilla isn't the web browser now.

	* installclasses/rhel_ws.py: 
	* installclasses/rhel_desktop.py:
	Should say OpenOffice.org, not OpenOffice.

	* upgrade.py (upgradeFindPackages): If this is RHEL, warn if
	they're upgrading from < RHEL 3 (#134523)

	* fsset.py (FileSystemSet.makeLVMNodes): Try to fix upgrade
	traceback (#134258)

	* loader2/net.c: Make changing the DNS server work (#122554)

2004-09-30 Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py: Improved arch handling  (#133045)

	* findpackageset.py: Fix thinko with missing rpm.ts (#133045)

2004-09-29  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/isys.py (getDasdState): Unformatted dasd seem to show up as
	"basic" now instead of "ready" (#130123)

	* loader2/driverdisk.c: Fix hang with driver disks (#131112, #122952)

	* iw/examine_gui.py: Remove spurious option in upgrade combo (#134058)

	* iw/language_support_gui.py: Avoid changing default language when
	selecting additional languages (#134040)

2004-09-29 Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py: Better arch handling for biarch system upgrades
	(#133045)

2004-09-28  Jeremy Katz  <katzj@redhat.com>

	* loader2/hdinstall.c (setKickstartHD): 
	* loader2/urlinstall.c (setKickstartUrl): 
	Make sure variables are initialized (#133996).

	* isys/isys.py (readSwapLabel): Add function to read label from
	swap filesystems.
	(readFSLabel): Read swap and JFS labels too.

	* fsset.py: Add support for label'ing swap filesystems (#127892).

	* anaconda: Lack of a mouse if using remote display shouldn't ask
	about the mouse type (#133902)

2004-09-27  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* iw/zfcp_gui.py (ZFCPWindow.getNext): Update FCP config after
	adding SCSI LUNs (#133290)

	* autopart.py (doAutoPartition): Fix LVM traceback if going back
	from not enough space (#131325)

	* isys/isys.py (getGeometry): Remove unused function.
	* isys/isys.c (doGetGeometry): Likewise.

	* anaconda.spec: Bump version.

	* loader2/driverdisk.c: 
	Don't try to mount as ext3 (we don't have the module).
	If we haven't mounted a partition, don't fail the driver 
	disk load (#133036)

	* loader2/hardware.c: we need to always do our busprobe (fixes
	nonet, etc)

	* loader2/loader.c: noprobe ==> nousb and nofirewire

	* kickstart.py: Allow name.arch syntax for selecting a package in
	%packages (#124456)

	* iw/partition_dialog_gui.py (PartitionEditor.run): 
	* iw/raid_dialog_gui.py (RaidEditor.run): 
	Update SpinButtons before getting their value (#133456)

	* iw/language_support_gui.py
	(LanguageSupportWindow.rebuild_combo): Fix traceback when
	unselecting last language (#133164)

	* fsset.py (swapFileSystem.mount): Skip version 0 swaps (#122101)

	* partedUtils.py (sniffFilesystemType): Don't accept version 0
	swaps as swap

	* kickstart.py (KickstartBase.definePartition): strip /dev from
	--onpart (inspired by #121486)

	* loader2/hdinstall.c: skip over /dev if given for path (#121486)

	* lang-table: Use no instead of no-latin1 as 
	Norwegian keyboard (#133757)

	* loader2/loader.c: Load dm-zero, dm-snapshot and dm-mirror (#132001)

	* scripts/mk-images.i386: 
	* scripts/mk-images.ia64: 
	* scripts/mk-images.ppc: 
	* scripts/mk-images.s390: 
	* scripts/mk-images.x86_64:
	Use a variable for raid and lvm modules.  Add dm-zero, dm-snapshot
	and dm-mirror (#132001)

2004-09-24  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* iw/partition_gui.py (PartitionWindow.populate): 
	* textw/partition_text.py (PartitionWindow.populate): 
	Free space isn't active, so we can't just ignore it.  Instead,
	just ignore non-active partitions of < 1 MB (#133425)

	* installclasses/rhel_as.py: 
	* installclasses/rhel_desktop.py: 
	* installclasses/rhel_es.py: 
	* installclasses/rhel_ws.py: 	
	Add installclasses for Red Hat Enterprise Linux (hidden) for
	translation purposes.

	* loader2/Makefile (VERSION): Define VERSION.

	* Makefile: Define VERSION and RELEASE here.

	* Makefile.inc (VERSION):
	* Makefile.inc (RELEASE):
	Move to Makefile

	* loader2/module-info: Add 3w-9xxx (#133525)

	* scripts/upd-instroot: Switch back to default zh_CN font instead
	of the bitmap one (#133330)

2004-09-23  Jeremy Katz  <katzj@redhat.com>

	* loader2/getparts.c (isPartitionName): i2o devices don't use a
	"p" separator (#133379)

	* iutil.py (makeDriveDeviceNodes): Create more RAID devices.
	(makeDriveDeviceNodes): i2o devices don't use a "p" separator (#133379)

	* loader2/cdinstall.c: Don't use PROBE_LOADED for cd probing (#131033)

	* loader2/hardware.c: We can always probe devices with current
	supported hardware. (#132592)

2004-09-23  Bill Nottingham <notting@redhat.com>

	* loader2/module-info, scripts/mk-images.*: fix megaraid module name

2004-09-22  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* fsset.py (DevptsFileSystem.isMountable): Don't mount /dev/pts
	during install (#133301)

	* scripts/splittree.py: Fix for SRPMs (#122737)

	* bootdisk/i386/syslinux.cfg: 
	* bootdisk/x86_64/syslinux.cfg:
	Add localboot option (#120687).

	* scripts/mk-images.ia64: 
	* scripts/mk-images.x86_64
	Remove spurious fi

	* textw/firewall_text.py: Oops, fix syntax error

2004-09-21  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* lang-table (Arabic): Don't attempt Arabic text mode (#122228)

	* scripts/upd-instroot (KEEPFILEGR): Add KacstQura font (#122228)

	* scripts/mk-images.x86_64: Add a README in the images/pxeboot dir.

	* scripts/mk-images.ia64: Create an images/pxeboot directory with
	the kernel + initrd used in the boot.img.

	* loader2/net.c (chooseNetworkInterface): Support using
	ksdevice=macaddr instead of ksdevice=link or ksdevice=ethX.
	Should sanitize the mac address to handle most sane formats (#130605).

	* isys/getmacaddr.c (sanitizeMacAddr): Add function.
	* isys/getmacaddr.h (sanitizeMacAddr): Add prototype.

	* Makefile: Get 'make build' working with build system changes.

2004-09-21  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: 
	* Makefile:
	* Makefile.inc:
	Rework build to not get date substituted in with
	a snapbuild.  Include changes explicitly in package changelog.

