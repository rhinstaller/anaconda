2007-03-06  Dave Lehman  <dlehman@redhat.com>

	* anaconda.spec: Bump version.

2007-03-06  Peter Jones  <pjones@redhat.com>

	* loader2/modules.c: put qla2400 on the lateList (#230644)

2007-03-06  Peter Jones  <pjones@redhat.com>

	* loader2/module-info: Add ehea to module list (#225451)

2007-02-26  Jeremy Katz  <katzj@redhat.com>

	* anaconda (mousedev): Don't prompt about nomouse with xen (#229588)

2007-02-16  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.

2007-02-16  Peter Jones  <pjones@redhat.com>

	* keymaps/Makefile: alphabetize the rules to make spot checking
	easier, and add missing ones.

	* keymaps/keymaps-{ppc,i386,x86_64,ia64}: update from actual rhel4.5
	installs (#229030).

	* anaconda.spec: remove keymaps-override-s390* since they're totally
	bogus and unnecessary anyway.

2007-02-09  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.

2007-02-12  David Cantrell  <dcantrell@redhat.com>

	* fsset.py (FileSystemSet.bootloaderChoices): On zFCP-only zSeries
	instances, do not try to grab bl.drivelist[0] when figuring out what
	boot loader choices the user has (#165098).

2007-02-09  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.

2007-02-08  Dave Lehman  <dlehman@redhat.com>

	* isys/isys.py (getDasdState): unformatted DASDs now show up as 
	"unformatted" in /proc/dasd/devices (#227546)

2007-02-06  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.

2007-02-06  Peter Jones  <pjones@redhat.com>

	* Makefile: add keymaps to SUBDIRS (#182325)

	* loader2/Makefile: get rid of bogus keymaps install rule

	* keymaps/Makefile: put loader2's keymaps install rule here

2007-02-02  Dave Lehman  <dlehman@redhat.com>

	* anaconda.spec: Bump version.

2007-02-02  Dave Lehman  <dlehman@redhat.com>

	* partitions.py (sanityCheckAllRequests): handle the case of 
	request.drive being None (#227045)

2007-01-31  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.

2007-01-31  Peter Jones  <pjones@redhat.com>

 	* isys/isys.py (driveIsRemovable): Split module checking out to its
 	own functions.  Allow usb-storage installs.
 	* partitions.py: warn if you're using firewire or usb
 	* loader2/modules.c (loadModule): Delay on reloading usb-storage, as
 	it takes undefined time as well.  Without this /tmp/scsidisks is
 	wrong.
 	* loader2/modules.c (writeModulesConf): don't exclude usb-storage
 	or sbp2.

2007-01-30  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.

2007-01-30  Dave Lehman  <dlehman@redhat.com>

	* kickstart.py (doZFCP): allow use of ZFCP disks in kickstart (#188610)

	* kickstart.py (readKickstart): add a handler for "zfcp" commands

	* installclass.py (BaseInstallClass): remove unused setZFCP method

2007-01-30  Peter Jones  <pjones@redhat.com>

	* scripts/upd-instroot: make bogl font (#180113)

2007-01-29  Jeremy Katz  <katzj@redhat.com>

	* loader2/loader.c (main): Don't load fb mods for virtpcon
	installs such as xencons (#224200)

	* loader2/init.c (main): Close xvc fd so that graphical xen can
	work (#224405)

2007-01-09  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.

2006-12-13  Jeremy Katz  <katzj@redhat.com>

	* scripts/mk-images: Official xvc0 major/minor

2006-12-04  Dave Lehman  <dlehman@redhat.com>

	* loader2/cdinstall.c: check all cdroms for ks.cfg (#203344)
	* instdata.py iw/examine_gui.py: save examine gui result (#208053)

2006-12-01  Jeremy Katz  <katzj@redhat.com>

	* upgrade.py (upgrade_remove_blacklist): tuples aren't extendable;
	don't traceback

2006-11-28  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2006-11-27  Jeremy Katz  <katzj@redhat.com>

	* packages.py (doPreInstall): Hackery to ensure that on xenU, we
	*only* get kernel-xenU installed

2006-11-20  Jeremy Katz  <katzj@redhat.com>

	* upgrade.py: Fix traceback

	* anaconda.spec: Bump version
	* scripts/mk-images.x86_64: xen module fixing
	* scripts/mk-images.i386: Likewise.

	* anaconda.spec: Bump version
	* scripts/mk-images.x86_64: More xen -> xenU fixing
	* scripts/mk-images.i386: The same
	* Makefile: fix build target

	* anaconda.spec: Bump version.

	* scripts/mk-images (foundakernel): Fix for xenU kernel

2006-11-10  Dave Lehman  <dlehman@redhat.com>

	improve handling of local (cdrom) stage2 with URL installs (#189262)
	* loader2/urlinstall.c:
	grab product.img from the URL instead of hdlist and verify that its 
	stamp matches the initrd's
	* urlinstall.py:
	add systemMounted, systemUnmounted, filesDone methods to handle the 
	stage2 image so the cdrom can be ejected at the end of installation

2006-10-31  Dave Lehman  <dlehman@redhat.com>

	* scripts/upd-instroot: add audit-libs to PACKAGES (#203391)

	* scripts/upd-instroot: remove ineffectual /bin/echo symlink
	* scripts/mk-images: symlink /bin/echo->/usr/bin/echo (#178781)

2006-10-23  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/init.c (termcmp): Fix build

2006-10-19  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* Makefile (build): Fix make build

2006-10-18  Jeremy Katz  <katzj@redhat.com>

	First pass at changes to support Xen guests (#201613)
	* anaconda.spec (BuildPreReq): require new enough kudzu for xen bits
	* scripts/mk-images: Put xvc0 in the initrd, build xen images
	* scripts/mk-images.i386: Do something with the xen kernel
	* scripts/mk-images.x86_64: Likewise.
	* loader2/module-info: Add xenblk and xennet
	* loader2/init.c: Support Xen xvc console as a serial console
	* loader2/hardware.c (detectHardware): Probe on BUS_XEN
	* isys/lang.c: Xen consoles can't load keymaps
	* isys/devnodes.c: Support for xen xvd devices
	* text.py: Xen guests should use the text mode fallbacks
	* packages.py (doPreInstall): Select kernel-xenU on xen guests
	* hdrlist.py (GroupSet.kernelVersionList): Support for kernel-xenU

2006-10-04  David Cantrell  <dcantrell@redhat.com>

	* anaconda.spec: Bump version.

2006-10-04  Paul Nasrat <pnasrat@redhat.com>

	* isys/isys.py (acpicpus): ia64 detection (#201397)
	* loader2/hardware.c( lapicSetup): Load lapic_status (#201397)
	* scripts/mk-images.ia64: Include lapic_status (#201397)

2006-09-13  Chris Lumens  <clumens@redhat.com>

	* anaconda:  vnc should override text on kickstart installs (#190099).

	* kickstart.py (Script.run):  Get stdin from the right file descriptor
	(#192067).

	* rescue.py (runRescue):  Mount /selinux under the chrooted system
	environment (#189489).

2006-09-07  Paul Nasrat <pnasrat@redhat.com>

	* upgrade.py: Blacklist x86_64 multilib packages (#181742)
	* upgrade.py: Blacklist by arch support backport (#198545)

2006-08-28  Peter Jones <pjones@redhat.com>

	* zfcp.py (ZFCP): only try to initialize uninitialized zfcp
	devices (#200333, patch from jwhiter)

2006-06-27  Peter Jones <pjones@redhat.com>

	* rescue.py (runShell): backport new runShell code from HEAD (#193285)

2006-06-05  Peter Jones <pjones@redhat.com>

	* isys/isys.py (acpicpus):
	Don't traceback if /proc/lapics is missing (#192818)
	* packages.py (doPreInstall):
	Assume nthreads/ncores should always be at least 1, which handles
	the case where the machine tells us cores * threads as "cores per
	package" (see xeon3.lab.boston.redhat.com for an example). (#193816)

2006-05-25  Peter Jones <pjones@redhat.com>

	* loader2/module-info: add adp94xx (#193083)

2006-05-24  Peter Jones <pjones@redhat.com>

	* isys/imount.c (doPwMount): don't fprintf to stderr, which causes
	polution on the text install console (update to #168384)
	* loader2/hardware.c: use mlLoadModule() instead of mlLoadModuleSet()
	to load lapic_status.ko
	* scripts/mk-images.x86_64: fix lapic_status in COMMONMODULES list

2006-05-23  Peter Jones <pjones@redhat.com>

	* isys/isys.py: don't run acpicpus() on import
	* anaconda: run isys.acpicpus() immediately after import (#192819)

2006-05-19  Paul Nasrat <pnasrat@redhat.com>

	* packages.py (doPreInstall): Create lock file dir (#192383)

2006-05-11  David Cantrell  <dcantrell@redhat.com>

	* anaconda:  display_mode -> flags.display_mode, set flags.runks.
	* flags.py:  Added display_mode and runks flags.
	* partedUtils.py (DiskSet.openDevices):  If in cmdline mode and
	using kickstart on s390 and an unformatted DASD is encountered,
	format it (#177463).

2006-05-09  Peter Jones  <pjones@redhat.com>

	* loader2/dietstubs.c: Use bogl's wlite_mblen and wlite_mbtowc for
	mblen and mbtowc, respectively.
	Use __ctype_get_mb_cur_max from glibc so bogl will link.

2006-05-08  Peter Jones  <pjones@redhat.com>

	* loader2/hardware.c: add lapicSetup, which loads lapic_support.ko if
	you're on x86_64.
	* loader2/hardware.c: add lapicSetup declaration.
	* loader2/loader.c (main): run lapicSetup()
	* scripts/mk-images.x86_64: add lapic_support to common modules
	* isys/isys.py: parse /proc/lapics instead of doing acpi probing if
	we're on x86_64.  Don't do acpi probing on i386. (#171930)

2006-05-01  Jeremy Katz  <katzj@redhat.com>

	* loader2/nfsinstall.c Add support for passing nfs mount options 
	by specifying nfsmountopts= on the boot command line.  NOTE: this 
	syntax will only exist in RHEL4.  For future major releases of
	RHEL, this will be handled on a more fine-grained basis.  (Brian
	Long, #168384)
	* loader/loader.c: Likewise.
	* loader2/loader.h: Likewise.
	* isys/imount.c (doPwMount): Pass extra parameters
	* isys/imount.h: (doPwMount): Prototype.
	* isys/isys.c: Adjust for new parameter.
	* loader2/cdinstall.c: Likewise.
	* loader2/driverdisk.c: Likewise.
	* loader2/hdinstall.c: Likewise.
	* loader2/method.c: Likewise.
	* loader2/usb.c: Likewise.

2006-04-24  David Cantrell  <dcantrell@redhat.com>

	* rescue.py:  Added runShell() to handle spawning the tty1 shell for
	rescue mode and set the controlling tty (#126620).

	* loader2/init.c:  Do no disable Ctrl+C, Ctrl+Z, and friends if we're
	starting in rescue mode.  Set controlling tty before dup2() calls.
	(#126620).

2006-04-19  Peter Jones  <pjones@redhat.com>

	* isys/linkdetect.c (get_link_status): don't leak socket fd.
	* loader2/loader.c: add post_link_sleep and "nicdelay=" option.
	* loader2/net.c (waitForLink): handle post_link_sleep
	* scripts/upd-instroot: add readline and ncurses to non-GR
	images. (#177471).
	* scripts/upd-instroot: add symlink for /bin/echo (#178781)
	* loader2/net.c (setupNetworkDeviceConfig): fix setting "mtu"
	* loader2/net.c (writeNetInfo): get mtu from pump info
	* loader2/net.h (networkDeviceConfig): remove mtu field
	
2006-04-17  Peter Jones  <pjones@redhat.com>

	* loader2/driverdisk.c (loadDriverFromMedia): don't ask for a disk
	after loading the file from a disk on scsi (usb) devices (#186559)

2006-04-06  Peter Jones  <pjones@redhat.com>

	* isys/isys.py (hardDriveDict): don't put removable drives in the isys
	hard drive list (#147504)
	* kickstart.py (KickstartBase.defineLogicalVolume): Check for missing
	vg declaration earlier so the error message makes sense (#176989)
	* network.py (NetworkDevice.__str__): quote ethtool opts
	properly (#176918)
	* docs/kickstart-docs.txt: add selinux (#175868)
	* loader2/module-info: add qla2xxx (#174993)
	* loader2/init.c: always reset terminal attributes on ppc (#166302)
	* docs/command-line.txt: eliminate dupe vnc entries (#175368)
	* partRequests.py (RaidRequestSpec.sanityCheckRaid): fix error
	message to be more clear (#184246)

2006-02-17  Peter Jones  <pjones@redhat.com>

	* isys/acpi/*: add headers for acpi tables
	* isys/acpi.c: add cpu probing via acpi
	* isys/isys.c: python bindings for the above
	* isys/isys.py: bring it out via isys.acpicpus()
	* packages.py: use acpi for cpu probing

2006-02-01  David Cantrell  <dcantrell@redhat.com>

	* fsset.py (swapFileSystem.labelDevice):  Make swap labels starting
	with SW- on /dev/cciss/* devices (#170500).

2006-01-26  Peter Jones  <pjones@redhat.com>

	* packages.py (doPreInstall): Change minimum cpu count for largesmp
	kernel selection on ppc to 64.  (#179027)

2006-01-17  David Cantrell  <dcantrell@redhat.com>

	* loader2/moduleinfo.c (readModuleInfo):  Correct parsing problem
	for module info files on driver disks (#164549).

2005-12-12  Peter Jones  <pjones@redhat.com>

	* packages.py (doPreInstall): handle "ia32e" as well as "x86_64".

2005-12-12  Jeremy Katz  <katzj@redhat.com>

	* hdrlist.py (GroupSet.kernelVersionList): Add -largesmp to grub
	config (#175548)

2005-12-07  Peter Jones <pjones@redhat.com>

	* packages.py: use the right numbers to test for largesmp

2005-12-07  Jeremy Katz  <katzj@redhat.com>

	* packages.py (doInstall): Avoid the rpmlib segfault with ts.order
	(workaround for #174621)

2005-12-06  Peter Jones <pjones@redhat.com>

	* isys/smp.c: implement smp/ht probing for itanium.
	* packages.py: simplify the largesmp code, make it readable again
	* scripts/mk-images.ia64: add more space on ia64 boot.img (#175095)

2005-12-05  Peter Jones <pjones@redhat.com>

	* isys/smp.c: change smp/ht handling to give us back numbers
	* packages.py: install largesmp kernel on some platforms.

2005-11-22  Paul Nasrat <pnasrat@redhat.com>
	
	* loader2/nfsinstall.c: Report no DNS servers if a hostname used (#168957)

	* loader2/loader.c: Don't do hard drivechecking on s390 (#165098)

	* textw/partition_text.py: Place MB in size field (#161652)

	* upgrade.py: Fix message in cross arch upgrades (#172030)
	
	* loader2/loader.c loader2/loader.h loader2/net.c: Backport support for bootif (#170713)
	* docs/command-line.txt: Document bootif support

	* loader2/kickstart.c: Fix kickstart parsing in sections (#170331)

	* loader2/loader.c: Fix noparport option (#170333)

2005-11-07  Paul Nasrat <pnasrat@redhat.com>

	* rescue.py: Fix rescue mode (#172588)

2005-11-02  Peter Jones <pjones@redhat.com>

        * loader2/module-info: add bnx2

2005-09-22  Peter Jones  <pjones@redhat.com>

	* lvm.py (vglist,pvlist,lvlist,partialvgs): more fixing of lvm calls;
	make them all use "--nosuffix --separator : --units b"

	* anaconda.spec: Bump version.

2005-08-16  Peter Jones  <pjones@redhat.com>

	* lvm.py (vglist): fix the lvm call so it doesn't truncate a character
	from the vg size. (#165141)

	* anaconda.spec: Bump version.
	
2005-08-01  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-07-26  Jeremy Katz  <katzj@redhat.com>

	* partitions.py (Partitions.setFromDisk): Get pesize (#162408)

	* lvm.py (vglist): Be more explicit in what we ask for and return
	pesize as well

2005-07-22  Paul Nasrat <pnasrat@redhat.com>

	* anaconda.spec: New version

	* textw/network_text.py:  Accept id parameter everywhere.

2005-07-21  Paul Nasrat <pnasrat@redhat.com>

	* anaconda.spec: New version

	* scripts/mk-images: audit for sshd/telnet (#162821)

2005-07-13  Chris Lumens  <clumens@redhat.com>

	* installclass.py (BaseInstallClass.setNetwork):  Use list of all
	network devices so the firstdev is properly excluded and
	multiple NICs works in kickstart (#158556).
	* network.py (Network.__init__):  Set firstnetdevice from
	/tmp/netinfo as part of above.

2005-07-12  Jeremy Katz  <katzj@redhat.com>

	* loader2/loader.c: Fix silly syntax error (pnasrat)

	* scripts/upd-instroot (KEEPFILE): Add audit stuff (#162821)

2005-07-08  Jeremy Katz  <katzj@redhat.com>

	* dispatch.py (installSteps):  Pass id down to network.
	* iw/network_gui.py (getNext, getScreen):  If we're using an
	interactive kickstart install and using DHCP for networking, don't
	obliterate the nameserver settings so we write out a good
	/etc/resolv.conf (clumens, #151472).
	* textw/network_text.py:  Accept id parameter.
	* rescue.py (runRescue): Pass id parameter.

	* partitions.py (Partitions.getBootableRequest): Support bootable
	SW RAID on ppc (#159902)
	* raid.py (raidBootArches): Make ppc allow bootable RAID
	* fsset.py (prepbootFileSystem.__init__): Set PReP as bootable

	* loader2/loader.c: Support for setting mtu on the command 
	line (#155414)

2005-07-06  Jeremy Katz  <katzj@redhat.com>

	* packages.py (handleMiscPackages): Select kernel-devel if we
	install kernel and gcc even if we installed kernel-smp also
	(#160533, #162581)
	
2005-05-16  Chris Lumens  <clumens@redhat.com>

	* isys/eddsupport.c (readDiskSig):  Close file descriptor leak
	relating to reading the partition table (Jon Burgess, #160720).

2005-05-10  pnasrat  <pnasrat@redhat.com>

	* anaconda.spec: Bump version

	* kickstart.py: fix logic error

2005-04-27  Jeremy Katz  <katzj@redhat.com>

	* cmdline.py (progressDisplay.setPackageStatus): Don't spam about
	package downloads in cmdline mode (#155250)

2005-04-22  Paul Nasrat <pnasrat@redhat.com>

	* bootloader.py: Ensure kernel written to PReP #146915

2005-04-12  pnasrat  <pnasrat@redhat.com>

	* anaconda.spec: Bump version

2005-04-11  Jeremy Katz  <katzj@redhat.com>

	* loader2/net.c: Don't free needed string (clumens, #149871, #150844,
	#153072)

2005-04-11  Paul Nasrat  <pnasrat@redhat.com>

	* kickstart.py: Correct name.arch (#133396, #154407)
	
2005-03-31  Chris Lumens  <clumens@redhat.com>

	* iw/network_gui.py  (NetworkWindow.setHostOptionsSensitivity):  Make
	sure automatic hostname option isn't greyed out when using a static IP
	for installation (#149116).

2005-03-23  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/selinux.c: Load SELinux booleans file if it exists (#151896)

2005-03-14  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-03-10  Chris Lumens  <clumens@redhat.com>

	* anaconda (startVNCServer): Fix typo in Xvnc parameters (#150498).

2005-03-02  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* kickstart.py (KickstartBase.doBootloader):  Don't install a
	bootloader if --location=none is provided in the kickstart config
	file (clumens, #146448).

	* autopart.py (fitConstrained):  Allow logical partitions to go all
	the way to the end of the extended partition.  (clumens, #101432)

2005-02-28  Jeremy Katz  <katzj@redhat.com>

	* anaconda (startVNCServer): Add -once to help ensure Xnvc
	exits when last client of the server exits (#137337)
	
2005-02-24  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-02-24  Paul Nasrat <pnasrat@redhat.com>

	* loader2/net.c: ethtool everywhere (#145422)

2005-02-21  Chris Lumens  <clumens@redhat.com>

	* iw/network_gui.py  (NetworkWindow.setHostOptionsSensitivity):
	Properly set hostname option sensitivity to follow which option is
	selected (#149116).

2005-02-21  Jeremy Katz  <katzj@redhat.com>

	* fsset.py (FileSystemSet.mtab): Don't write out filesystems we
	haven't mounted like /dev/shm (#149091)

2005-02-10  Chris Lumens  <clumens@redhat.com>

	* iw/network_gui.py (NetworkWindow.getScreen):  Always put the
	hostname we got from DHCP (or localhost.localdomain) in the hostname
	entry box (#132826).

2005-02-08  Paul Nasrat  <pnasrat@redhat.com>

	* upgradeclass.py:
	Setup iSeries bootloader as no real config on upgrades (#146915)

	* findpackageset.py:
	Don't use rpm.archscore as iseries upgrades don't work (#146915)

2005-01-25  Chris Lumens  <clumens@redhat.com>

	* autopart.py (growLogicalVolumes):  Properly grow logical partitions
	in cases where there's more than one volume group defined (#144280,
	#145145).

2005-01-19  Chris Lumens  <clumens@redhat.com>

	* iw/partition_gui.py (PartitionWindow.refresh):  Only repopulate the
	partition display screen if we were successful in adding the request.
	(corner case - #137119).

2005-01-11  Jeremy Katz  <katzj@redhat.com>

	* packages.py (readPackages): Ensure that the Core group exists in
	the comps file (#143930)

2005-01-10  Jeremy Katz  <katzj@redhat.com>

	* dispatch.py (installSteps): Pass new arg to desktopchoice

	* iw/desktop_choice_gui.py (DesktopChoiceWindow.getNext): Reset
	package selection to defaults if selected (#142415)
	* textw/desktop_choice_text.py (DesktopChoiceWindow): Likewise.

	* installclass.py (BaseInstallClass.setSteps): Allow install
	classes to turn off showing upgrade as an option (only really
	applicable if you only have one install class)
	
2005-01-06  Jeremy Katz  <katzj@redhat.com>

	* loader2/loader.c (parseCmdLineIp): Add patch from Bastien Nocera
	to support parsing of pxelinux IPAPPEND (#134054)

2005-01-04  Jeremy Katz  <katzj@redhat.com>

	* partedUtils.py (getDefaultDiskType): the default disk type on
	s390 should be dasd, but we can't format those with parted and if
	we get here, we're formatting an fcp disk which should 
	be msdos (#144199)

	* loader2/net.c: Fix multiple dns servers being specified on the
	command line.  Again.  Patch from Matthew Miller (#84409)
	
	* loader2/loader.c: Apparently, I can't count (#144006)

2004-12-30  Jeremy Katz  <katzj@redhat.com>

	* packages.py (rpmErrorClass.selected): Fix tyop (#143257)

2004-12-23  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/isys.py (readSwapLabel_int): Update for newer swap label
	format (#143447)

	* network.py (Network.available): Work around kudzu not being able
	to determine which netdev is which and set hwaddrs anyway (except
	on s390 to avoid setting it on qeth) (#143535)

2004-12-20  Jeremy Katz  <katzj@redhat.com>

	* iw/progress_gui.py (InstallProgressWindow_NEW.setPackage): Don't
	scale images to sizes that they're not (#143276)

	* packages.py (doPreInstall): Some finagling for kernel-*devel 
	handling (#143257)

2004-12-16  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2004-12-16  Paul Nasrat  <pnasrat@localhost.localdomain>

	* loader2/init.c: Extra checking to distinguish hvsi consoles #134397

2004-12-14  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* command-stubs/mknod-stub (main): Add 
	* partedUtils.py (get_partition_name): 
	* iutil.py (makeDriveDeviceNodes): 
	* fsset.py (prepbootFileSystem.getDiskPart): 
	Promise SX8 devices are of the form /dev/sx8/dpn; support this as 
	needed.

	* loader2/driverdisk.c (useKickstartDD): Add support for 
	biosdev in driverdisk directive.  Patch basically from Rez Kabir
	AT dell (#142738)

2004-12-14  Paul Nasrat  <pnasrat@redhat.com>

	* lvm.py: LVM on RAID1 - (#141781)

2004-12-09  Jeremy Katz  <katzj@redhat.com>

	* fsset.py (getDevFD): Better error handling if we can't create
	the device (#142273)

2004-12-08  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* partitions.py (Partitions.setFromDisk): Adding as a request
	requires more bits, do as a delete (#142304)
	(Partitions.getPartialLVMRequests): Check deletes now

	* partRequests.py (PartialVolumeGroupRequestSpec): It's not really
	a RequestSpec, change accordingly.

2004-12-03  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.
	
	* loader2/mediacheck.c: Disable read-ahead for the last meg or so
	of the CD to try to avoid mediacheck problems (#131051 and others)
	* loader2/mediacheck.h (mediaCheckFile): Add new arg.
	* loader2/cdinstall.c (mediaCheckCdrom): Likewise.
	* loader2/method.c (queryISOMediaCheck): Likewise.

	* constants.py (BETANAG): turn off beta nag.

	* partitions.py (Partitions.setFromDisk): Detect partial vgs,
	preserve the name (#139058)

	* lvm.py (partialvgs): Detect partial volume groups.

	* partitions.py (Partitions.getPartialLVMRequests): Get partial
	volume group requests
	(Partitions.isVolumeGroupNameInUse): If we have a partial by the
	requested name, let it be known so that we avoid conflicts.

	* partRequests.py (PartialVolumeGroupRequestSpec.__init__): Add
	partial volume group request for handling non-complete volume
	groups so we avoid conflicting names.

2004-12-01  Jeremy Katz  <katzj@redhat.com>

	* loader2/shutdown.c (shutDown): Make loop while waiting for
	reboot less cpu-intensive to improve user-experience with, eg, VMWare

	* partitions.py (Partitions.writeKS): Include pesize (#141370)

2004-11-30  Jeremy Katz  <katzj@redhat.com>

	* image.py (findIsoImages): Skip ISOs which don't have a
	product/RPMS dir to avoid some of the confusion if users put the
	source ISOs in the same dir as the binary (#106017)
	
	* network.py (Network.write): Write WEPKEY in
	/etc/sysconfig/network-scripts/keys-$DEVNAME with mode 0600 (#140645)

	* iw/network_gui.py (NetworkWindow.editDevice): KEY, not 
	WEPKEY (#140645)	
	
	* iw/network_gui.py (NetworkWindow.editDevice): Get rid of 
	warning from pygtk (merge from HEAD)

2004-11-30  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* autopart.py (setPreexistParts): Fix handling of existing
	partitions on drives which don't have a partition table we
	understand (#131333)
	
	* loader2/modules.c (lateModuleSort): Fix the list to be big
	enough (#140541, #140876)
	
2004-11-29  Paul Nasrat  <pnasrat@redhat.com>

	* autopart.py: Fix LVM with add new in autopartitioning (#141268)

2004-11-29  Jeremy Katz  <katzj@redhat.com>

	* iw/zfcp_gui.py: Fix removal and editing of devices to stick (#140559)

2004-11-29  Karsten Hopp  <karsten@redhat.com>

	* loader2/net.c: CTCPROT fix (#133088)

2004-11-24  Jeremy Katz  <katzj@redhat.com>

	* upgrade.py: Remove linuxconf stuff from the upgrade remove
	blacklist.  They didn't exist in RHEL 3 which is our only
	supported upgrade version and there are a few weird bugs which
	seem to be related to this.

2004-11-23  Jeremy Katz  <katzj@redhat.com>

	* upgrade.py (upgradeFindPackages): More iiiimf upgrade (#129218)

2004-11-22  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/init.c: Only open /dev/console once.

2004-11-22  Paul Nasrat  <pnasrat@redhat.com>

	* loader2/init.c: Improved ppc console detection, based on 
	notting's kudzu patch #135707 (#134397)

2004-11-22  Jeremy Katz  <katzj@redhat.com>

	* loader2/modules.c: Fix segfault on ia64 (#140093)

2004-11-19  Jeremy Katz  <katzj@redhat.com>

	* packages.py (doPreInstall): Don't remove the directories as
	they may not be empty (#133773)

2004-11-17  Jeremy Katz  <katzj@redhat.com>

	* textw/upgrade_bootloader_text.py
	(UpgradeBootloaderWindow.__call__): Set a default when we can't
	determine the boot loader to avoid indeterminate state (#139603)

	* lvm.py: Don't disable LVM if vgscan, et al segfault (#134263)

2004-11-16  Jeremy Katz  <katzj@redhat.com>

	* loader2/net.c (setKickstartNetwork): Allow passing --notksdevice
	to your network lines so that you don't try to use them as your
	device (#136903)

	* kickstart.py (KickstartBase.doNetwork): Handle --notksdevice
	here too.

	* loader2/net.c: Allow going back and manually changing the
	network device used even if ksdevice= is passed (#136903)

	* loader2/loader.c: Fix for serial console magic to work again
	with just console= and not explicit serial (#137971)

2004-11-15  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/modules.c: Backport segfault fix from -HEAD

	* isys/isys.py (hardDriveDict): ignore IBM *STMF disks as they're
	just the *STMF for booting on a power5 iSeries box (#137920)

2004-11-12  Jeremy Katz  <katzj@redhat.com>

	* bootloader.py: Add patch from HJ Lu to fix popping hang in cases
	where boot loader isn't being installed (#138932)

	* packages.py (copyAnacondaLogs): Copy in the X log too per
	pnasrat's request.

2004-11-11  Jeremy Katz  <katzj@redhat.com>

	* iw/partition_ui_helpers_gui.py (mountptchangeCB): Automatically
	set the filesystem type to vfat if the user selects /boot/efi as
	the mountpoint on ia64 (#138580)

	* iw/datacombo.py (DataComboBox.set_active_text): Add convenience
	method to set the active item based on text.

2004-11-10  Jeremy Katz  <katzj@redhat.com>

	* loader2/loader.c: Make serial imply nofb (#134167)

2004-11-10  Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py:
	Fix for obsoletes E being long. Gratuitously borrowed from rpmUtils

2004-11-10  Jeremy Katz  <katzj@redhat.com>

	* packages.py (doPreInstall): If we go back, we need to try
	unmount /dev, too (#133773)

2004-11-08  Jeremy Katz  <katzj@redhat.com>

	* text.py (InstallInterface.run): Fallback to English for
	languages that can't do text-mode (#138308)

2004-11-08  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Don't ask for input if PORTNAME or CTCPROT
	are already set. Use defaults if RUNKS is set for kickstart 
	installations.

2004-11-05  Jeremy Katz  <katzj@redhat.com>

	* Makefile (build): autobuild for RHEL-4

	* isys/isys.py (readJFSLabel_int): Fix exception handling.
	(readXFSLabel_int): Likewise.
	(readSwapLabel_int): Likewise.

2004-11-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* partitions.py (Partitions.writeKS): Have to have sizes as
	integers (#138109)

	* loader2/modules.c (lateModuleSort): Implement an additional sort
	to move drivers to the end of our list of drivers to load.  This
	is handy for, eg, fibre channel so that it doesn't end up at the
	front of the list so that people don't get confused with sda being
	their FC disk.  Also, put ibmvscsic in the list due to #137920

	* loader2/module-info: More qlogic fibre channel adapters

	* upgrade.py (upgradeFindPackages): Key iiimf-le-canna off of
	kinput2-canna-wnn6 instead of just kinput2 (#129218)

2004-11-03  Jeremy Katz  <katzj@redhat.com>

	* iw/network_gui.py (NetworkWindow.setupDevices): 
	* textw/network_text.py (NetworkDeviceWindow.runScreen): 
	Sync behavior of onboot between gui/text (#138011)

	* autopart.py (getAutopartitionBoot): Use
	iutil.hasiSeriesNativeStorage instead of iutil.hasIbmSis()
	* partitions.py (Partitions.sanityCheckAllRequests): Likewise.

	* iutil.py (hasiSeriesNativeStorage): Rename from hasIbmSis(),
	check for ipr as well as ibmsis.

	* packages.py (copyAnacondaLogs): Set permissions on logs (#137963)

	* scripts/scrubtree: Don't use busybox shutdown, poweroff, or
	reboot (#137948)

2004-11-03  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Check input for CTCPROT, remove ctc-tty
	from selection

2004-11-02  Jeremy Katz  <katzj@redhat.com>

	* rescue.py (runRescue): Fix traceback with going back in the
	network config (#137844)

2004-11-02  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Ask for CTCPROT even if MTU is already
	specified (mainframe)

2004-11-02  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Try harder to find out the LCS
	interface name
	
2004-11-02  Jeremy Katz  <katzj@redhat.com>

	* packages.py (handleX11Packages): Handle making sure gdm is
	installed and don't get TWM started if people don't 
	install GNOME (#132743)

	* isys/isys.py (readJFSLabel_int): Better handling of errors while
	trying to read the label (#137846).
	(readXFSLabel_int): Likewise.
	(readSwapLabel_int): Likewise.

2004-11-02  Tim Waugh  <twaugh@redhat.com>

	* loader2/hdinstall.c (mountHardDrive): Pass the correct pointer to
	free() (bug #137533).

2004-10-29  Kristian HÃ¸gsberg  <krh@redhat.com>

	* mini-wm.c (main): Write acknowledge token back to anaconda to
	indicate successful connection to the X server.

	* anaconda (startMiniWM): Wait for token before launching other X
	clients (#108777).

2004-10-29  Jeremy Katz  <katzj@redhat.com>

	* loader2/net.c (getWirelessConfig): Allow 128-bit WEP keys (#137447)

2004-10-27  Jeremy Katz  <katzj@redhat.com>

	* upgrade.py (upgradeFindPackages): Fix traceback on cjk 
	upgrades (#137345)

2004-10-26  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* partedUtils.py (DiskSet.openDevices): Don't die if we don't have
	an intf set up yet (#130123, #137239)

	* upgrade.py (upgradeFindPackages): firefox replaces
	mozilla/netscape (#137244)
	
2004-10-26  Jeremy Katz  <katzj@redhat.com>	

	* anaconda.spec: Bump version.

	* kickstart.py (KickstartBase.definePartition): More fixing for
	size of zero (#137120)

	* scripts/mk-images: Use busybox sleep for s390 instead of
	coreutils sleep to avoid needing librt and libpthread (#131167)

2004-10-25  Jeremy Katz  <katzj@redhat.com>

	* loader2/net.c (setKickstartNetwork): Handle onboot 
	properly (#136903)

	* lang-table: Punjabi shouldn't try to do text mode (#137030)

2004-10-24  Jeremy Katz  <katzj@redhat.com>

	* scripts/mk-images.ia64 (IDEMODULES): Add sgiioc4 module for
	Altix cdrom drive (#136730)

2004-10-21  Bill Nottingham <notting@redhat.com>

	* scripts/mk-images: forward port pci.ids trimming from taroon-branch
	
	* utils/trimpciids: new file

2004-10-20  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/mk-images.ppc: Update to work with new mkzimage so we
	get a netboot.img again (#125129)

2004-10-20  Jeremy Katz  <katzj@redhat.com>	

	* anaconda.spec: Bump version.

2004-10-19  Karsten Hopp <karsten@redhat.com>

	* loader2/linuxrc.s390: make sure to lowercase SUBCHANNELS sourced 
          from the .parm/.conf file, too

2004-10-19  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/linuxrc.s390: Ensure OSA addresses are lowercase so the
	kernel will like them (#133190)

	* autopart.py (doAutoPartition): Don't hard code VG name for
	auto-partitioned volume groups as VolGroup00 (#134263)

	* partRequests.py (VolumeGroupRequestSpec.__init__): Add autoname
	hack for autopart + lvm.

	* packages.py (handleX11Packages): Make sure that we don't do a
	graphical startup if people run out of space and then go back to
	unselect stuff (#135895)

	* scripts/upd-instroot: Change filenames for Indic fonts

2004-10-18  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.  
	Rebuild against newer bogl to hopefully fix CJK text installs

	* scripts/upd-instroot: Add Bluecurve icon theme index, hopefully
	fixes the icon theme to be correct.

	* bootloader.py: Add a trailing newline to /etc/sysconfig/kernel

	* loader2/urlinstall.c: When using the local stage2.img shortcut,
	ensure that an hdlist exists in the tree they point at to catch
	typos sooner (#135603, #117155, #120101)

	* kickstart.py: Fix traceback using %post logging (Gijs
	Hollestelle, #136154)

2004-10-17  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* iw/partition_gui.py: Fix font size to fit a little bit 
	better (#135731)

	* partitions.py (Partitions.writeKS): Write out size=0 (#135714)

	* kickstart.py (KickstartBase.definePartition): Allow partition
	size to be zero to work better with LVM autopart (#135714)

2004-10-15  Jeremy Katz  <katzj@redhat.com>

	* iw/driveorderwidget.py: Remove empty row leading 
	to traceback (#135944)

	* urlinstall.py: Replace "%" in urls with "%%" to avoid format
	string problems (#135929)

	* rescue.py (runRescue): bind mount /dev (#135860)

	* lang-table: Set Dutch and Danish keyboards by default (#135839)

2004-10-14  Jeremy Katz  <katzj@redhat.com>

	* loader2/module-info: Add s2io 10GbE driver

	* anaconda.spec: Bump version.

2004-10-14  Karsten Hopp  <karsten@redhat.com>

	* loader/linuxrc.s390: Hardcode LCS interface to eth0 (workaround
	until fix with sysfs interface is available)

2004-10-14  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot: Add fonts for ta, gu, hi, bn and pa (#119283)

	* isys/lang.c (bterm_main): Enable bterm again for testing (#113910)

	* loader2/hdinstall.c: Fix segfault when using biospart for hard
	drive kickstart install.  Patch from Rez Kabir (#135609)

2004-10-13  Jeremy Katz  <katzj@redhat.com>

	* bootloader.py: Write out /etc/sysconfig/kernel with the default
	kernel type and to change the bootloader default on new kernel
	installation (#135161)

2004-10-13  Karsten Hopp <karsten@redhat.com>

	* scripts/mk-images: add /etc/pam.d/remote for telnet logins
	                     (mainframe)

2004-10-12  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* autopart.py (doAutoPartition): Be more certain we have
	one of "our" LVM partitions (#135440)

	* scripts/mk-images.x86_64:
	* scripts/mk-images.i386:
	Remove localboot option from syslinux.cfg for diskboot.img (#135263)

	* upgrade.py (upgradeFindPackages): Handle the great input method
	switch (#129218)

	* network.py (Network.__init__): Don't save the hwaddr 
	for qeth (#135023)

	* packages.py (doPostInstall): Add rhgb in post-install, not
	doInstall (from msw on anaconda-devel-list)

2004-10-12  Bill Nottingham  <notting@redhat.com>

	* loader2/module-info: add ahci, sx8

2004-10-11  Bill Nottingham  <notting@redhat.com>

	* scripts/genlocalelist.py: reverse norwegian blacklisting (#129453)

	* loader2/module-info: add sata_nv, sata_sx4, ixgb; sort sata list

2004-10-07  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* fsset.py (FileSystemSet.makeLVMNodes): Make sure the DM node
	doesn't exist before we create it (#124092)

	* textw/packages_text.py: Sort packages in the group 
	details screen (#123437)

	* scripts/upd-instroot (KEEPFILEGR): Add prelink config (#117867)

2004-10-06  Jeremy Katz  <katzj@redhat.com>

	* iw/lvm_dialog_gui.py (VolumeGroupEditor.updateLogVolStore):
	Don't show "0" as a mountpoint for an LV that's not being mounted
	anywhere (#134867)

	* partRequests.py (RequestSpec.sanityCheckRequest): Call
	sanityCheckMountPoint with new option

	* partIntfHelpers.py (sanityCheckMountPoint): Don't allow
	formatting unless they specify a mountpoint on pre-existing
	partitions (#134865)

	* iw/network_gui.py (NetworkWindow.getScreen): Make Bengali fit a
	little bit better (#134762)

2004-10-06  Karsten Hopp <karsten@redhat.com>

	* partedUtils.py: Fix traceback with unpartitioned FCP disks (mainframe)

2004-10-05  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version:

	* kickstart.py (KickstartBase.readKickstart): Have to reset things
	when we enter a new scriptlet to break multiple scriptlet with
	different interpreters (#134707)

	* isys/devnodes.c: Working scsi disk nodes again (#134709)

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* scripts/upd-instroot (PACKAGES): Add selinux-policy-targeted so
	that text-mode installs will have working SELinux (#134549)

	* kickstart.py (KickstartBase.readKickstart): Handle having a
	%include inside a scriptlet. (#120252)

	* iw/zfcp_gui.py: Fix zfcp help tag
	(ZFCPWindow.getScreen): Don't change fcp devs until going forward.

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/devnodes.c: Add support more than 128 SCSI disks
	(#134575).

	* dispatch.py (installSteps): Remove my new typo.

	* partRequests.py (LogicalVolumeRequestSpec.getDevice): Fix
	changing of VG name carrying through to boot loader setup (#132213)

	* partitions.py (Partitions.writeKS): Include PPC PReP boot
	partition (#133934)

	* kickstart.py (KickstartBase.definePartition) 
	Allow specifying the PPC PReP Boot partition as "part prepboot"
	
	* kickstart.py (KickstartBase.setPackageSelection): Fix a thinko
	in the arch-specific case.  Also, add arch-specific removal (#133396)

	* lang-table: Fix Polish (#134554)

	* dispatch.py (installSteps): 
	* installclass.py (BaseInstallClass.setSteps): 
	* upgradeclass.py (InstallClass.setSteps): 
	Add copylogs step.

	* packages.py (copyAnacondaLogs): Copy /tmp/anaconda.log and
	/tmp/syslog to /var/log/anaconda.log and /var/log/anaconda.syslog
	so that they exist post-install (#124370)

	* kickstart.py: Add logging of kickstart scripts with --log to
	%post/%pre, etc.  Note that the filename is relative to use of
	--chroot or not. (#124370)

2004-10-04  Mike McLean  <mikem@redhat.com>
	* scripts/pkgorder: Add some command line options: --file <f> to
	write to a file instead of stdout, --debug to increas the rpm
	verbosity, --product to set the product path.

2004-10-04  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: fix LCS PORTNAME

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* iutil.py (makeDriveDeviceNodes): Create more RAID devs (#134438)

2004-10-01  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* installclass.py (BaseInstallClass.setZFCP): Add method for use
	in kickstart setting of zfcp config.

	* kickstart.py (KickstartBase.doZFCP): 
	Add syntax for defining zfcp volumes in kickstart.  
	Use --devnum=, --scsiid=, --wwpn=, --scsilun=, --fcplun=.  
	All are required. (#130070, #133288)
	(KickstartBase.doAutoPart): Skip zfcpconfig (#133288)
	(KickstartBase.definePartition): Skip zfcpconfig (#133288)

	* isys/nfsmount.c (HAVE_NFSV3): Let's use NFSv3.  Will fix using
	the DVD iso via nfsiso (#122032)

	* loader2/module-info: Fix megaraid_mbox module name (#134369)

	* loader2/driverdisk.c: Another uninitialized variable (#133996)

	* scripts/upd-instroot (PACKAGESGR): Actually add the zh_CN fonts
	package (#133330)

2004-09-30  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* po/anaconda.pot, po/*.po:
	refresh-po

	* installclasses/workstation.py:
	* installclasses/rhel_ws.py:	
	Install compat-arch-support and compat-arch-devel-support 
	by default (#133514).
	s/OpenOffice/OpenOffice.org/
	Mozilla isn't the web browser now.
	
	* installclasses/personal_desktop.py:
	* installclasses/server.py:
	* installclasses/rhel_as.py:	
	* installclasses/rhel_es.py:	
	* installclasses/rhel_desktop.py:
	Install compat-arch-support by default (#133514)
	s/OpenOffice/OpenOffice.org/
	Mozilla isn't the web browser now.

	* installclasses/rhel_ws.py: 
	* installclasses/rhel_desktop.py:
	Should say OpenOffice.org, not OpenOffice.

	* upgrade.py (upgradeFindPackages): If this is RHEL, warn if
	they're upgrading from < RHEL 3 (#134523)

	* fsset.py (FileSystemSet.makeLVMNodes): Try to fix upgrade
	traceback (#134258)

	* loader2/net.c: Make changing the DNS server work (#122554)

2004-09-30 Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py: Improved arch handling  (#133045)

	* findpackageset.py: Fix thinko with missing rpm.ts (#133045)

2004-09-29  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/isys.py (getDasdState): Unformatted dasd seem to show up as
	"basic" now instead of "ready" (#130123)

	* loader2/driverdisk.c: Fix hang with driver disks (#131112, #122952)

	* iw/examine_gui.py: Remove spurious option in upgrade combo (#134058)

	* iw/language_support_gui.py: Avoid changing default language when
	selecting additional languages (#134040)

2004-09-29 Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py: Better arch handling for biarch system upgrades
	(#133045)

2004-09-28  Jeremy Katz  <katzj@redhat.com>

	* loader2/hdinstall.c (setKickstartHD): 
	* loader2/urlinstall.c (setKickstartUrl): 
	Make sure variables are initialized (#133996).

	* isys/isys.py (readSwapLabel): Add function to read label from
	swap filesystems.
	(readFSLabel): Read swap and JFS labels too.

	* fsset.py: Add support for label'ing swap filesystems (#127892).

	* anaconda: Lack of a mouse if using remote display shouldn't ask
	about the mouse type (#133902)

2004-09-27  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* iw/zfcp_gui.py (ZFCPWindow.getNext): Update FCP config after
	adding SCSI LUNs (#133290)

	* autopart.py (doAutoPartition): Fix LVM traceback if going back
	from not enough space (#131325)

	* isys/isys.py (getGeometry): Remove unused function.
	* isys/isys.c (doGetGeometry): Likewise.

	* anaconda.spec: Bump version.

	* loader2/driverdisk.c: 
	Don't try to mount as ext3 (we don't have the module).
	If we haven't mounted a partition, don't fail the driver 
	disk load (#133036)

	* loader2/hardware.c: we need to always do our busprobe (fixes
	nonet, etc)

	* loader2/loader.c: noprobe ==> nousb and nofirewire

	* kickstart.py: Allow name.arch syntax for selecting a package in
	%packages (#124456)

	* iw/partition_dialog_gui.py (PartitionEditor.run): 
	* iw/raid_dialog_gui.py (RaidEditor.run): 
	Update SpinButtons before getting their value (#133456)

	* iw/language_support_gui.py
	(LanguageSupportWindow.rebuild_combo): Fix traceback when
	unselecting last language (#133164)

	* fsset.py (swapFileSystem.mount): Skip version 0 swaps (#122101)

	* partedUtils.py (sniffFilesystemType): Don't accept version 0
	swaps as swap

	* kickstart.py (KickstartBase.definePartition): strip /dev from
	--onpart (inspired by #121486)

	* loader2/hdinstall.c: skip over /dev if given for path (#121486)

	* lang-table: Use no instead of no-latin1 as 
	Norwegian keyboard (#133757)

	* loader2/loader.c: Load dm-zero, dm-snapshot and dm-mirror (#132001)

	* scripts/mk-images.i386: 
	* scripts/mk-images.ia64: 
	* scripts/mk-images.ppc: 
	* scripts/mk-images.s390: 
	* scripts/mk-images.x86_64:
	Use a variable for raid and lvm modules.  Add dm-zero, dm-snapshot
	and dm-mirror (#132001)

2004-09-24  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* iw/partition_gui.py (PartitionWindow.populate): 
	* textw/partition_text.py (PartitionWindow.populate): 
	Free space isn't active, so we can't just ignore it.  Instead,
	just ignore non-active partitions of < 1 MB (#133425)

	* installclasses/rhel_as.py: 
	* installclasses/rhel_desktop.py: 
	* installclasses/rhel_es.py: 
	* installclasses/rhel_ws.py: 	
	Add installclasses for Red Hat Enterprise Linux (hidden) for
	translation purposes.

	* loader2/Makefile (VERSION): Define VERSION.

	* Makefile: Define VERSION and RELEASE here.

	* Makefile.inc (VERSION):
	* Makefile.inc (RELEASE):
	Move to Makefile

	* loader2/module-info: Add 3w-9xxx (#133525)

	* scripts/upd-instroot: Switch back to default zh_CN font instead
	of the bitmap one (#133330)

2004-09-23  Jeremy Katz  <katzj@redhat.com>

	* loader2/getparts.c (isPartitionName): i2o devices don't use a
	"p" separator (#133379)

	* iutil.py (makeDriveDeviceNodes): Create more RAID devices.
	(makeDriveDeviceNodes): i2o devices don't use a "p" separator (#133379)

	* loader2/cdinstall.c: Don't use PROBE_LOADED for cd probing (#131033)

	* loader2/hardware.c: We can always probe devices with current
	supported hardware. (#132592)

2004-09-23  Bill Nottingham <notting@redhat.com>

	* loader2/module-info, scripts/mk-images.*: fix megaraid module name

2004-09-22  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* fsset.py (DevptsFileSystem.isMountable): Don't mount /dev/pts
	during install (#133301)

	* scripts/splittree.py: Fix for SRPMs (#122737)

	* bootdisk/i386/syslinux.cfg: 
	* bootdisk/x86_64/syslinux.cfg:
	Add localboot option (#120687).

	* scripts/mk-images.ia64: 
	* scripts/mk-images.x86_64
	Remove spurious fi

	* textw/firewall_text.py: Oops, fix syntax error

2004-09-21  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* lang-table (Arabic): Don't attempt Arabic text mode (#122228)

	* scripts/upd-instroot (KEEPFILEGR): Add KacstQura font (#122228)

	* scripts/mk-images.x86_64: Add a README in the images/pxeboot dir.

	* scripts/mk-images.ia64: Create an images/pxeboot directory with
	the kernel + initrd used in the boot.img.

	* loader2/net.c (chooseNetworkInterface): Support using
	ksdevice=macaddr instead of ksdevice=link or ksdevice=ethX.
	Should sanitize the mac address to handle most sane formats (#130605).

	* isys/getmacaddr.c (sanitizeMacAddr): Add function.
	* isys/getmacaddr.h (sanitizeMacAddr): Add prototype.

	* Makefile: Get 'make build' working with build system changes.

2004-09-21  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: 
	* Makefile:
	* Makefile.inc:
	Rework build to not get date substituted in with
	a snapbuild.  Include changes explicitly in package changelog.

