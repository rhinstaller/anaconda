# ======================================
# WARNING!
# THIS FILE IS GENERATED FROM A TEMPLATE
# DO NOT EDIT THIS FILE MANUALLY!
# ======================================
# The template is located in: .packit.yml.j2

specfile_path: anaconda.spec
upstream_package_name: anaconda
upstream_tag_template: anaconda-{version}
copy_upstream_release_description: true
downstream_package_name: anaconda

files_to_sync:
  - rpmlint.toml
  - .packit.yml

srpm_build_deps:
  - automake
  - autoconf
  - autogen
  - glib2-devel
  - gettext-devel
  - python3-polib
  - gobject-introspection-devel
  - glade-devel
  - libarchive-devel
  - rpm-devel
  - nss_wrapper
  - nodejs-npm

packages:
  anaconda-fedora:
    specfile_path: anaconda.spec
  anaconda-centos:
    specfile_path: anaconda.spec
    pkg_tool: centpkg

actions:
  post-upstream-clone:
    - ./autogen.sh
    - ./configure
  create-archive:
    - "make release"
    - 'bash -c "ls -1 anaconda-*.tar.bz2"'

jobs:
  # Propose downstream (RHEL)
  - job: propose_downstream
    trigger: release
    # Tarballs are not uploaded to GitLab PR on CentOS (https://github.com/packit/packit-service/issues/2436)
    manual_trigger: True
    packages: [anaconda-centos]
    dist_git_branches:
      - c10s




